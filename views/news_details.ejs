<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZRDY8JQBQ7"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ZRDY8JQBQ7');
  </script>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="index,follow"> <!-- Explicitly allows crawling -->
  
  <title>AI-Powered Performance Insights Now Available for All Students | MySchoolResult</title>
  <meta name="description" content="Discover how MySchoolResult's new AI analytics engine identifies learning gaps, predicts outcomes, and delivers personalized study plans to every student.">
  <meta name="author" content="Rajesh Kumar">
  
  <!-- Open Graph (FB, LinkedIn, WhatsApp) -->
  <meta property="og:title" content="AI-Powered Performance Insights Now Available for All Students">
  <meta property="og:description" content="Our new predictive analytics engine identifies learning gaps and suggests personalized study plans based on historical performance trends.">
  <meta property="og:image" content="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80">
  <meta property="og:image:width" content="1200"> <!-- Prevents cropping -->
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="AI analytics dashboard for students">
  <meta property="og:url" content="https://myschoolresult.com/news/ai-performance-insights">
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="MySchoolResult"> <!-- Branding in previews -->
  
  <!-- Twitter Cards (X/Twitter) -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@MySchoolResult"> <!-- Your handle -->
  <meta name="twitter:title" content="AI-Powered Performance Insights Now Available for All Students">
  <meta name="twitter:description" content="Our new predictive analytics engine identifies learning gaps and suggests personalized study plans based on historical performance trends.">
  <meta name="twitter:image" content="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80">
  
  <!-- Schema for Rich Snippets (SEO bonus for previews) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": "AI-Powered Performance Insights Now Available for All Students",
    "image": "https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
    "datePublished": "2025-11-03",
    "author": {"@type": "Person", "name": "Rajesh Kumar"},
    "publisher": {"@type": "Organization", "name": "MySchoolResult", "logo": {"@type": "ImageObject", "url": "https://myschoolresult.com/myschoolresult.png"}}
  }
  </script>
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2077324357254940" crossorigin="anonymous"></script>
  <link rel="canonical" href="https://myschoolresult.com/news/ai-performance-insights">
  <link rel="stylesheet" href="/styles/index.css">
   <link rel="stylesheet" href="/styles/dynamicLink.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="icon" href="myschoolresult.png" type="image/png" sizes="32x32">
  
  <!-- Your existing styles unchanged -->
  <style>
    /* ... (keep as-is) */
  </style>
</head>

<body>
  <%- include('partials/header2') %>
  <div style="height:100px"></div>

  <article id="article-root" class="article-hero" aria-live="polite">
    <div class="article-header">
      <span class="article-badge" id="article-category">News</span>
      <h1 class="article-title" id="article-title">Loading…</h1>
      <div class="article-meta">
        <div class="meta-item"><span id="article-date"></span></div>
        <div class="meta-item"><span id="article-author"></span></div>
        <div class="meta-item"><span id="article-time"></span></div>
      </div>
    </div>

    <img id="article-image" class="article-image" src="https://via.placeholder.com/1200x600" alt="Article image">
  </article>

  <section id="article-content" class="article-content">
    <p>Loading article content…</p>
  </section>

 <div class="share-section" style="max-width:900px;margin:2rem auto;">
  <span class="share-text">Share this article:</span>
  <div class="share-buttons" style="margin-top:0.5rem; display:flex; gap:1rem;">
    <a id="share-twitter" class="share-btn twitter" target="_blank" rel="noopener" title="Share on Twitter">
      <i class="fab fa-twitter"></i>
    </a>
    <a id="share-facebook" class="share-btn facebook" target="_blank" rel="noopener" title="Share on Facebook">
      <i class="fab fa-facebook-f"></i>
    </a>
    <a id="share-whatsapp" class="share-btn whatsapp" target="_blank" rel="noopener" title="Share on WhatsApp">
      <i class="fab fa-whatsapp"></i>
    </a>
    <a id="share-copy" class="share-btn" href="#" title="Copy link">
      <i class="fas fa-link"></i>
    </a>
  </div>
</div>
<section id="related-articles" class="article-content" style="margin-top:3rem; max-width:800px; margin-left:auto; margin-right:auto;">
  <h2>Related Articles</h2>
  <div id="related-grid" class="related-grid">
    <!-- Related articles will be injected here -->
  </div>
</section>

  <%- include('partials/footer') %>
<script src="js/navigation.js"></script>
<script>
(function () {
  const $ = id => document.getElementById(id);

  // -------------------- Helpers --------------------
  const safeText = s => s ? String(s) : "";
  const PAGE_SIZE = 6; // related articles count
  const API_BASE = "/api/news";

function setMeta(title, description, image, url, pubDate, author) {
  document.title = title || "MySchoolResult";
  
  // Core metas
  document.querySelector('meta[name="description"]').setAttribute('content', description || '');
  
  // OG
  document.querySelector('meta[property="og:title"]').setAttribute('content', title || '');
  document.querySelector('meta[property="og:description"]').setAttribute('content', description || '');
  document.querySelector('meta[property="og:image"]').setAttribute('content', image || '');
  document.querySelector('meta[property="og:image:alt"]').setAttribute('content', title || '');
  document.querySelector('meta[property="og:url"]').setAttribute('content', url || window.location.href);
  
  // Twitter
  document.querySelector('meta[name="twitter:title"]').setAttribute('content', title || '');
  document.querySelector('meta[name="twitter:description"]').setAttribute('content', description || '');
  document.querySelector('meta[name="twitter:image"]').setAttribute('content', image || '');
  
  // Schema (update JSON-LD dynamically)
  const schemaScript = document.createElement('script');
  schemaScript.type = 'application/ld+json';
  schemaScript.innerHTML = JSON.stringify({
    "@context": "https://schema.org",
    "@type": "NewsArticle",
    "headline": title,
    "image": image,
    "datePublished": pubDate || new Date().toISOString(),
    "author": {"@type": "Person", "name": author},
    "publisher": {"@type": "Organization", "name": "MySchoolResult", "logo": {"@type": "ImageObject", "url": "/myschoolresult.png"}}
  });
  document.head.appendChild(schemaScript); // Replaces if exists
}
  function parseToParagraphs(content) {
    if (!content) return ['No content available.'];
    let paras = content.split(/\n\n+/).filter(p => p.trim().length > 0);
    if (paras.length === 1) {
      paras = content.split(/\n+/).filter(p => p.trim().length > 20);
    }
    return paras.map(para => para.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').trim());
  }

  function createRelatedCard(article, index) {
    const image = article.image || article.image_url || 'https://via.placeholder.com/400x250?text=News';
    const title = safeText(article.title || "Untitled Article");
    const category = safeText(article.category || "News");
    const date = article.pubDate ? new Date(article.pubDate).toLocaleDateString() : "";
    return `
      <div class="related-card">
        <div class="related-image" style="background-image:url('${image}');"></div>
        <div class="related-content">
          <span class="related-badge">${category}</span>
          <h3 class="related-card-title"><a href="/news_details?id=${index}">${title}</a></h3>
          <p class="related-meta">${date}</p>
        </div>
      </div>
    `;
  }

  // -------------------- Fetch --------------------
  async function fetchArticleFromBackend(id) {
    try {
      const res = await fetch(`/api/news_details/?id=${id}`);
      if (!res.ok) throw new Error('Article not found');
      return await res.json();
    } catch {
      return null;
    }
  }

  function fetchArticleFromLocal(id) {
    try {
      const key = 'selectedArticle_' + id;
      const raw = localStorage.getItem(key);
      return raw ? JSON.parse(raw) : null;
    } catch {
      return null;
    }
  }

  async function fetchRelatedArticles() {
    try {
      const res = await fetch(`${API_BASE}?page=1&size=${PAGE_SIZE}`);
      if (!res.ok) throw new Error('Failed to fetch related articles');
      const data = await res.json();
      return data.articles || [];
    } catch (err) {
      console.warn('Related articles fetch failed:', err);
      return [];
    }
  }

  // -------------------- Render --------------------
  function renderArticle(article) {
    const contentEl = $('article-content');
    if (!article) {
      contentEl.innerHTML = '<p>⚠️ Article not found. Go back to <a href="/#news">news list</a>.</p>';
      return;
    }

    const title = safeText(article.title);
    const rawContent = safeText(article.content || article.body || article.description);
    const desc = safeText(article.description || rawContent.slice(0, 300));
    const image = article.image_url || article.image || 'https://via.placeholder.com/1200x600';
    const pubDate = article.pubDate ? new Date(article.pubDate) : (article.dateTimePub ? new Date(article.dateTimePub) : null);
    const dateStr = pubDate ? pubDate.toLocaleString() : '';
    const author = Array.isArray(article.creator) ? article.creator[0] : (article.creator || 'MySchoolResult');
    const category = (article.category && article.category[0]) || 'News';
    const link = window.location.href;
    $('article-title').textContent = title;
    $('article-category').textContent = category;
    $('article-date').textContent = dateStr;
    $('article-author').textContent = author;
    $('article-time').textContent = article.read_time || '';
    $('article-image').src = image;
    $('article-image').alt = title;

    const paragraphs = parseToParagraphs(rawContent);
    const contentHTML = `<article><h2>${title}</h2>${paragraphs.map(p => `<p>${p}</p>`).join('')}</article>`;
    contentEl.innerHTML = contentHTML;

    const canonical = link;
    setMeta(title, desc, image, canonical);

    const shareUrl = encodeURIComponent(canonical);
    const shareText = encodeURIComponent(`${title} — via MySchoolResult`);
    $('share-twitter').href = `https://twitter.com/intent/tweet?url=${shareUrl}&text=${shareText}`;
    $('share-facebook').href = `https://www.facebook.com/sharer/sharer.php?u=${shareUrl}`;
    $('share-whatsapp').href = `https://wa.me/?text=${shareText}%20${shareUrl}`;
    $('share-copy').onclick = async e => {
      e.preventDefault();
      try { await navigator.clipboard.writeText(canonical); alert('Link copied'); } 
      catch { prompt('Copy this link', canonical); }
    };
  }

  async function renderRelatedArticles() {
    const relatedContainer = document.createElement('section');
    relatedContainer.className = 'related-news';
    relatedContainer.innerHTML = `<h2 class="related-title">Related News</h2><div class="related-grid" id="related-grid"></div>`;
    document.body.insertBefore(relatedContainer, document.querySelector('footer'));

    const relatedGrid = $('related-grid');
    const articles = await fetchRelatedArticles();
    if (articles.length === 0) {
      relatedGrid.innerHTML = '<p style="text-align:center;">No related news available.</p>';
      return;
    }

    articles.forEach((article, index) => {
      relatedGrid.insertAdjacentHTML('beforeend', createRelatedCard(article, index));
    });
  }

  // -------------------- Init --------------------
  async function init() {
    const params = new URLSearchParams(window.location.search);
    const id = params.get('id');

    let article = null;
    if (id) {
      article = await fetchArticleFromBackend(id) || fetchArticleFromLocal(id);
    } else {
      const raw = localStorage.getItem('selectedArticle');
      article = raw ? JSON.parse(raw) : null;
    }

    renderArticle(article);
    renderRelatedArticles();
  }

  init();
})();
</script>
 <script src="js/menu2.js"></script>  
 <script src="js/navigation.js"></script>
</body>
</html>